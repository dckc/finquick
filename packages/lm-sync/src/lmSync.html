<head>
  <title>Lunch Money Fetch</title>
  <style>
    .report {
      border-collapse: collapse;
      font-family: sans-serif;
    }
    th,
    td {
      border: 1px solid black;
      padding: 4px;
    }
    .report tr:nth-child(odd) {
      background-color: #fff;
    }

    .report tr:nth-child(even) {
      background-color: #eee;
    }

    .report tr td:nth-child(4),
    .report tr td:nth-child(5),
    .report tr td:nth-child(6) {
      text-align: right;
    }
  </style>
</head>

<h1 id="budget_name">Budget</h1>
<fieldset>
  <label
    >Account:
    <select name="account"> </select
  ></label>
  <br />
  <label
    >Category:
    <select name="category"> </select
  ></label>

  <br />
  <button id="updateSetup">Update Setup</button>
  from <a id="endpoint" href="https://dev.lunchmoney.app">endpoint</a>.
  <br />
  <button id="updateTransactions">Update Transactions</button>
  <hr />
  <label
    >API Key
    <input id="apiKey" type="password" />
  </label>
</fieldset>

<section>
  <h2>Transactions</h2>
  <table id="transactionView" class="report"></table>
</section>
<script type="module">
  import { ui } from './lmUI.js';
  const fail = why => {
    throw Error(why);
  };
  const $ = s => document.querySelector(s) || fail(s);

  window.addEventListener('DOMContentLoaded', _event => {
    console.debug('DOMContentLoaded. button:', $('#updateSetup'));
    ui({
      $,
      fetch,
      localStorage,
      createElement: tag => document.createElement(tag),
      createTextNode: txt => document.createTextNode(txt),
      clock: () => Date.now(),
    });
  });
</script>
<noscript>
  Please turn on JS; this app isn't feasible without it.
</noscript>
<hr />
<section>
  <h2>Powered By</h2>
  <ul>
    <li>
      <a href="https://lunchmoney.dev/">Lunch Money Developer API</a>
    </li>
  </ul>
</section>
