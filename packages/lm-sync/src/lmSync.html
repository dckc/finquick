<head>
  <title>Lunch Money Fetch</title>
</head>

<fieldset>
  <label
    >Account:
    <select name="account"> </select
  ></label>

  <br />
  <button id="updateAccounts">Update Accounts</button>
  from <a id="endpoint" href="https://dev.lunchmoney.app">endpoint</a>.
  <br />
  <button id="updateTransactions">Update Transactions</button>
  <hr />
  <label
    >API Key
    <input id="apiKey" />
  </label>
</fieldset>

<section>
  <h2>Transactions</h2>
  <table id="transactionView" border="1"></table>
</section>
<script type="module">
  import { ui } from './lmUI.js';
  const fail = why => {
    throw Error(why);
  };
  const $ = s => document.querySelector(s) || fail(s);

  window.addEventListener('DOMContentLoaded', _event => {
    console.debug('DOMContentLoaded. button:', $('#updateAccounts'));
    ui({
      $,
      fetch,
      localStorage,
      createElement: tag => document.createElement(tag),
      createTextNode: txt => document.createTextNode(txt),
      clock: () => Date.now(),
    });
  });
</script>
<noscript>
  Please turn on JS; this app isn't feasible without it.
</noscript>
